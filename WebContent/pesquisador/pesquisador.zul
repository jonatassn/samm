<?page title="Cadastrar Usu�rio" contentType="text/html;charset=UTF-8"?>
<?init class="br.com.jonatassn.samm.service.AuthenticationInit" ?>
<zk xmlns="http://www.zkoss.org/2005/zul" xmlns:n="native">
	<window style="margin-top: 100px;" id="janela"
			border="normal" 
			popup="true" 
			sizable="false" 
			closable="true" 
			width="750px" 
			viewModel="@id('vm') @init('br.com.jonatassn.samm.controller.pesquisador.PesquisadorVM')">
		<div style="top: 16px;  margin-bottom: 10px;" class="app-page-title">
	        <div class="page-title-wrapper">
	            <div class="page-title-heading">
	                <div class="page-title-icon">
	                    <n:i class="fa fa-users">
	                    </n:i>
	                </div>
	                <label value="Cadastro de Pesquisadores" />
	            </div>
	        </div>
	    </div>
		<div class="row">
			<div class="form-group">
				<div class="col-sm-6">
					<label value="Nome:" />
					<textbox style="text-transform: uppercase" class="form-control" value="@bind(vm.formPesquisador.nome) @save(vm.formPesquisador.nome, before='salvar')" constraint="no empty: O campo nome não pode estar vazio" />
				</div>
				<div class="col-sm-6">
					<label value="Sobrenome:" />
					<textbox style="text-transform: uppercase" class="form-control" value="@bind(vm.formPesquisador.sobrenome) @save(vm.formPesquisador.sobrenome, before='salvar')" constraint="no empty: O campo sobrenome não pode estar vazio" />
				</div>
			</div>
		</div>
		<div class="row">
			<div class="form-group">
				<div class="col-sm-6">
					<label value="Usuário:" />
					<combobox hflex="1" model="@load(vm.usuarios)" selectedItem="@bind(vm.formPesquisador.usuario) @save(vm.formPesquisador.usuario, before='salvar')" constraint="no empty: É obrigató selecionar um usuário para este pesquisador" >
						<template name="model" var="usuario">
							<comboitem hflex="1" label="@load(usuario.email)"/>
						</template>
					</combobox>
				</div>
				<div class="col-sm-5">
					<label value="Cpf:" />
					<textbox class="form-control" value="@bind(vm.formPesquisador.cpf) @save(vm.formPesquisador.cpf, before='salvar')" constraint="no empty: O campo cpf não pode estar vazio" />
				</div>
			</div>
		</div>
		<div class="row">
			<div class="form-group">
				<div class="col-sm-5">
					<label value="Url externa:" />
					<textbox class="form-control" value="@bind(vm.formPesquisador.urlExterna)" />
				</div>
			</div>
		</div>
		
		<div class="row">
			<div class="form-group">
				<div class="col-sm-2">
					<label value="Ativo:" />
					<checkbox hflex="1" checked="@bind(vm.formPesquisador.status)"/>
				</div>
			</div>
		</div>
		
		
		<div class="d-flex justify-content-center">
			<button width="200" class="btn btn-sm btn-secondary" iconSclass="fa fa-ban" label="Cancelar" onClick="@command('cancelar', janela=janela)"/>
			<button class="btn btn-sm btn-success" iconSclass="fa fa-check" label="Salvar" onClick="@command('salvar', janela=janela)"/>
		</div>
	</window>
</zk> 