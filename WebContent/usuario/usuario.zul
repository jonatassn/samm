<?page title="Cadastrar Usu�rio" contentType="text/html;charset=UTF-8"?>
<?init class="br.com.jonatassn.samm.service.AuthenticationInit" ?>
<zk xmlns="http://www.zkoss.org/2005/zul" xmlns:n="native">
	<window style="margin-top: 100px;" id="janela"
			border="normal" 
			popup="true" 
			sizable="false" 
			closable="true" 
			width="750px" 
			viewModel="@id('vm') @init('br.com.jonatassn.samm.controller.usuario.UsuarioVM')">
		<div style="top: 16px;  margin-bottom: 10px;" class="app-page-title">
	        <div class="page-title-wrapper">
	            <div class="page-title-heading">
	                <div class="page-title-icon">
	                    <n:i class="fa fa-users">
	                    </n:i>
	                </div>
	                <label value="Cadastro de Usuários" />
	            </div>
	        </div>
	    </div>
		<div class="row">
			<div class="form-group">
				<div class="col-sm-6">
					<label value="E-mail:" />
					<textbox class="form-control" type="email" value="@bind(vm.formUsuario.email) @save(vm.formUsuario.email, before='salvar')" constraint="no empty: O campo e-mail não pode estar vazio" />
				</div>
			</div>
		</div>
		<div class="row">
			<div class="form-group">
				<div class="col-sm-4">
					<label value="Senha:" />
					<div class="input-group">
						<textbox style="border-right: none; border-top-right-radius: 0; border-bottom-right-radius: 0;" id="passwordField" class="form-control" type="@load(vm.fieldType)" value="@bind(vm.formUsuario.password) " />
						<button style="border-left: none; border-top-left-radius: 0; border-bottom-left-radius: 0; background: none; background-color: none;width: 35px; font-size: 14px;" class="input-group-append btn btn-light" iconSclass="fa fa-eye" onClick="@command('alternarSenha')" />
					</div>
				</div>
			</div>
		</div>
		
		<div class="row">
			<div class="form-group">
				<div class="col-sm-6">
					<label value="Administrador: " />
					<checkbox hflex="1" checked="@bind(vm.formUsuario.admin)" />
				</div>
			</div>
		</div>
		
		<div class="row">
			<div class="form-group">
				<div class="col-sm-6">
					<label value="Ativo:" />
					<checkbox hflex="1" checked="@bind(vm.formUsuario.status)" />
				</div>
			</div>
		</div>
		
		<div class="d-flex justify-content-center">
			<button width="200" class="btn btn-sm btn-secondary" iconSclass="fa fa-ban" label="Cancelar" onClick="@command('cancelar', janela=janela)"/>
			<button class="btn btn-sm btn-success" iconSclass="fa fa-check" label="Salvar" onClick="@command('salvar', janela=janela)"/>
		</div>
	</window>
</zk> 