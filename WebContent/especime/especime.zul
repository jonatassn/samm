<?page title="Cadastrar Usu�rio" contentType="text/html;charset=UTF-8"?>
<?init class="br.com.jonatassn.samm.service.AuthenticationInit" ?>
<?taglib uri="http://www.zkoss.org/dsp/web/core" prefix="c"?>
<zk xmlns="http://www.zkoss.org/2005/zul" xmlns:n="native">
	<window style="margin-top: 100px;" id="janela"
			border="normal" 
			popup="true" 
			sizable="false" 
			closable="true" 
			width="750px" 
			viewModel="@id('vm') @init('br.com.jonatassn.samm.controller.especime.EspecimeVM')">
		<div style="top: 16px;  margin-bottom: 10px;" class="app-page-title">
	        <div class="page-title-wrapper">
	            <div class="page-title-heading">
	                <div class="page-title-icon">
	                    <n:i class="fa fa-users">
	                    </n:i>
	                </div>
	                <label value="Cadastro de Especime" />
	            </div>
	        </div>
	    </div>
	    
		<div class="row">
			<div class="form-group">
				<div class="col-sm-4">
					<label value="Nome:" />
					<textbox class="form-control" value="@bind(vm.formEspecime.nome) @save(vm.formEspecime.nome, before='salvar')" constraint="no empty: O campo nome não pode estar vazio" />
				</div>
				<div class="col-sm-2">
					<label value="Idade:" />
					<textbox class="form-control" value="@bind(vm.formEspecime.idade)" />
				</div>
				<div class="col-sm-1">
					<label value="Sexo:" />
					<textbox class="form-control" value="@bind(vm.formEspecime.sexo)" maxlength="1" />
				</div>
			</div>
		</div>
		
		<div class="row">
			<div class="form-group">
				<div class="col-sm-6">
					<label value="Informações Biometricas:" />
					<textbox class="form-control" value="@bind(vm.formEspecime.informacoesBiometricas)" constraint="no empty: O campo info biométricas não pode estar vazio" maxlength="45"/>
				</div>
				<div class="col-sm-6">
					<label value="Pesquisador:" />
					<combobox hflex="1" model="@load(vm.pesquisadores)" selectedItem="@bind(vm.formEspecime.pesquisador) @save(vm.formEspecime.pesquisador, before='salvar')" constraint="no empty">
						<template name="model" var="pesquisador">
							<comboitem hflex="1" label="@load(c:cat(c:cat(pesquisador.nome, ' '), pesquisador.sobrenome))" />
						</template>
					</combobox>
				</div>
			</div>
		</div>
		
		<div class="row">
			<div class="form-group">
				<div class="col-sm-6">
					<label value="Tag:" />
					<combobox hflex="1"  model="@load(vm.tags)" selectedItem="@bind(vm.formEspecime.tag) @save(vm.formEspecime.tag, before='salvar')" constraint="no empty" >
						<template name="model" var="tag">
							<comboitem hflex="1" label="@load(tag.codigoHexadecimal)" />
						</template>
					</combobox>
				</div>
			</div>
		</div>
		
		<div class="row">
			<div class="form-group">
				<div class="col-sm-6">
					<label value="Ativo:" />
					<checkbox hflex="1" checked="@bind(vm.formEspecime.isAtivo)" />
				</div>
			</div>
		</div>
		
		<div class="d-flex justify-content-center">
			<button class="btn btn-sm btn-secondary" iconSclass="fa fa-ban" label="Cancelar" onClick="@command('cancelar', janela=janela)"/>
			<button class="btn btn-sm btn-success" iconSclass="fa fa-check" label="Salvar" onClick="@command('salvar', janela=janela)"/>
		</div>
	</window>
</zk> 